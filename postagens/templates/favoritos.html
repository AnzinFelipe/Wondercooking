{% extends "base.html" %}

{% block title %}Posts favoritos - Wondercooking{% endblock %}

{% block conteudo %}
    <h1>Bem vindo ao Wondercooking! </h1>
    <h2>Meus posts favoritos
        <a href="{% url 'home' %}">Voltar</a>
    </h2>     
    
    {% if posts %}
        {% for post in posts %}
            {% if request.user in post.favoritos.all %}
                <div class="post">
                    <a href="/post_detalhe/{{ post.id }}"><h3>{{ post.titulo }}</h3></a>
                    <p><strong>Autor:</strong> {{ post.autor.user.username }}</p>
                    <p><strong>Data:</strong> {{ post.data }}</p>
                    <p>{{ post.descricao }}</p>
                    {% if post.imagem %}
                        <img src="{{ post.imagem.url }}" alt="{{ post.titulo }}" width="300">
                    {% endif %}
                    <p><strong>Likes:</strong> {{ post.likes.count }}</p>
                </div>
                <hr>
            {% endif %}
        {% endfor %}
        
        {% if not posts|length %}
            <p>Você ainda não favoritou nenhum post.</p>
        {% endif %}
    {% else %}
        <p>Nenhum post encontrado.</p>
    {% endif %}
{% endblock %}

